<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Рекурсия и стек</title>
</head>
<body>
<script>
    // 1. Напишите функцию sumTo(n), которая вычисляет сумму чисел 1 + 2 + ... + n:
    // 1) С использованием цикла.
    // 2) Через рекурсию, т.к. sumTo(n) = n + sumTo(n-1) for n > 1.
    // 3) С использованием формулы арифметической прогрессии.

    function sunTo(n) {
        let res = 0
        for (let i = 0; i <= n; i++) {
            res += i
        }
        return res
    }

    function sunTo2(n) {
        return n === 1 ? n : n + sunTo2(n-1)
    }

    function sunTo3(n) {
        return n * (1 + n) / 2
    }

    //2. Написать функцию factorial(n), которая возвращает n!, используя рекурсию
    // 5 * factorial(4) = 5 * 4 * factorial(3) = 5 * 4 * 3 * factorial(2) = 5 * 4 * 3 * 2 * factorial(1) = 5 * 4 * 3 * 2 * 1 = 120
    // 4 * factorial(3) = 4 * 3 * factorial(2) = 4 * 3 * 2 * factorial(1) = 4 * 3 * 2 * 1 = 24
    // 3 * factorial(2) = 3 * 2 * factorial(1) = 3 * 2 * 1 = 6
    // 2 * factorial(1) = 2 * 1 = 2
    // factorial(1) = 1 * 1 = 1
    function factorial(n) {
        return n === 1 ? n : n * factorial(n - 1)
    }

    //3. Напишите функцию fib(n) которая возвращает n-е число Фибоначчи
    // fib(6) = fib(5) + fib(4) = fib(4) + fib(3) + fib(3) + fib(2) = fib(3) + fib(2) + fib(2) + fib(1) + fib(2) + fib(1) + fib(2) = fib(2) + fib(1) + fib(2) + fib(2) + fib(1) + fib(2) + fib(1) + fib(2) = 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 = 8
    // fib(5) = fib(4) + fib(3) = fib(3) + fib(2) + fib(2) + fib(1) = fib(2) + fib(1) + fib(2) + fib(2) + fib(1) = 1 + 1 + 1 + 1 +1 = 5
    // fib(4) = fib(3) + fib(2) = fib(2) + fib(1) + 1 = 1 + 1 + 1 = 3
    // fib(3) = fib(2) + fib(1)  = 1 + 1 = 2
    // fib(2) = 1
    // fib(1) = 1

    function fib(n) {
        return n === 2 || n === 1 ? 1 : (fib(n - 1) + fib(n - 2))
    }

    function fib2(n) {
        let a = 1
        let b = 1
        for (let i = 3; i <= n; i++) {
            let c = a + b
            a = b
            b = c
        }
        return b
    }

    function fib3(n) {
        let gR = (1 + 5**(1/2))/2
        return Math.round((gR**n - -1 * gR**(-n))/(2*gR - 1))
    }

    //4. Напишите функцию printList(list), которая выводит элементы односвязного списка по одному:
    // 1) используя цикл
    // 2) через рекурсию
    let list = {
        value: 1,
        next: {
            value: 2,
            next: {
                value: 3,
                next: {
                    value: 4,
                    next: null
                }
            }
        }
    }

    function printList(list) {
        while (list !== null) {
            console.log(list.value)
            list = list.next
        }
    }

    function printList2(list) {
        if (list === null) return
        console.log(list.value)
        printList2(list.next)
    }

    //5. Выведите односвязный список из предыдущего задания Вывод односвязного списка в обратном порядке: с использованием цикла и через рекурсию

</script>
</body>
</html>